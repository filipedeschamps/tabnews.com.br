## 30/07/21 - Milestone 1 (ENCERRAMENTO)

Mais uma [Live de encerramento](https://youtu.be/rVsYU9HyREM) simplesmente **SENSACIONAL** com direito a revisitar v√°rios t√≥picos **fundamentais** do projeto e at√© fazer deploy de um Banco de Dados em Produ√ß√£o (numa sexta-feira). Outro detalhe legal foi toda ajuda que a turma foi dando pelo chat durante a Live de algumas d√∫vidas que foram surgindo. Eu realmente sou apaixonado por eles e n√£o troco por ningu√©m!!! Bom, vamos ao resumo dos principais t√≥picos:

1. **[Por que estou feliz? (10:00)](https://youtu.be/rVsYU9HyREM?list=PLMdYygf53DP7VRIRKmkSdGuDf-6OXcj4H&t=599)** - Come√ßo a Live de fato falando algums motivos que me fazem estar muito feliz, onde em resumo: **1)** O projeto do TabNews est√° me dando oportunidade de aprender muita coisa, mas com um detalhe especial que √© **registrar tudo em tempo-real**, desde a primeira issue criada no reposit√≥rio at√© essas Lives e as entradas no Di√°rio aqui do README. E isso vai se manter para todos os pr√≥ximos t√≥picos, como Autentica√ß√£o/Autoriza√ß√£o e vai se tornar um excelente material de refer√™ncia para qualquer outro projeto futuro. **2)** Falando em projetos futuros, a funda√ß√£o que est√° sendo criada no reposit√≥rio do TabNews pode servir para v√°rios tipos de projetos que qualquer pessoa queira fazer e aproveitar ou c√≥digo ou os conhecimentos. **3)** Por √∫ltimo, estou feliz porque na Milestone a seguir, a [Milestone 2](https://github.com/filipedeschamps/tabnews.com.br/milestone/3) j√° teremos conte√∫do pra valer na Home do site.
2. **[Como instalar e rodar o projeto (14:00)](https://youtu.be/rVsYU9HyREM?list=PLMdYygf53DP7VRIRKmkSdGuDf-6OXcj4H&t=840)** - Bastante simples esse item, pois basta voc√™ ter na sua m√°quina Node.js e Docker (com Docker Compose), clonar o reposit√≥rio, instalar as depend√™ncias e rodar `npm run dev` que todo o ambiente vai subir para voc√™ continuar o desenvolvimento.
3. [Testes automatizados e CI (33:43)](https://youtu.be/rVsYU9HyREM?list=PLMdYygf53DP7VRIRKmkSdGuDf-6OXcj4H&t=2023) - Novamente bastante simples, uma vez que voc√™ pode rodar os testes pelo comando `npm test` ou `npm run test:watch` caso queira rod√°-los de forma interativa. Mas o legal √© que isso foi implementado **duas vezes**, uma [por esse PR](https://github.com/filipedeschamps/tabnews.com.br/pull/76) onde a estrat√©gia era subir todos os servi√ßos dependentes por dentro do script de teste, e [por esse outro PR](https://github.com/filipedeschamps/tabnews.com.br/pull/82) onde subir esses servi√ßos foi removido do c√≥digo e delegado para camada de infraestrutura que abra√ßa os testes (e ficou **muito** melhor e mais resistente). Vale muito a pena entrar no primeiro PR para acompanhar a discuss√£o, e no segundo PR para acompanhar a resolu√ß√£o. Outro detalhe nesta parte foi a descoberta do [act](https://github.com/nektos/act) que simula o ambiente do Github Actions, o que √© √≥timo para n√£o precisar ficar marretando o seu reposit√≥rio com pushes ou pull requests para implementar as Actions.
4. [Padr√£o de Linting de Code Style e Commits (1:06:32)](https://youtu.be/rVsYU9HyREM?list=PLMdYygf53DP7VRIRKmkSdGuDf-6OXcj4H&t=3992) - Isso n√£o √© obrigat√≥rio, mas bastante necess√°rio caso voc√™ n√£o queira perder o controle e padroniza√ß√£o do seu projeto. Na parte Code Style que voc√™ pode verificar [nesse PR](https://github.com/filipedeschamps/tabnews.com.br/pull/79) √© feito o linting pelo `eslint` integrado diretamente ao `next` a partir da vers√£o `11` e tamb√©m pelo `prettier`. J√° para parte de commits, [esse PR](https://github.com/filipedeschamps/tabnews.com.br/pull/80) implementa o uso de [Conventional Commits](https://www.conventionalcommits.org/), al√©m de adicionar uma ferramenta chamada `cz` que pode ser acionada pelo comando `npm run commit` e que auxilia as pessoas a criarem as mensagens no formato certo. E ter um padr√£o de commits √© √≥timo para fazermos changelogs automatizados. Fora isso, vale a pena destacar [a issue](https://github.com/filipedeschamps/tabnews.com.br/issues/42) que discute v√°rias sugest√µes sobre esse assunto e tamb√©m a padroniza√ß√£o de outras coisas dentro do Github e que n√£o foram implementadas nessa Milestone.
5. [Arquitetura e Pastas (1:18:36)](https://youtu.be/rVsYU9HyREM?list=PLMdYygf53DP7VRIRKmkSdGuDf-6OXcj4H&t=4716) - Como o projeto est√° num est√°gio pequeno, n√£o deu para desenvolver muito o assunto na Live, por√©m [essa issue](https://github.com/filipedeschamps/tabnews.com.br/issues/12) tem uma discuss√£o **sensacional** sobre o assunto, inclusive numa ideia que o Next.js nos travou.
6. [Mudan√ßa de Licen√ßa (1:19:12)](https://youtu.be/rVsYU9HyREM?list=PLMdYygf53DP7VRIRKmkSdGuDf-6OXcj4H&t=5352) - N√£o vai ter issue melhor que [essa aqui](https://github.com/filipedeschamps/tabnews.com.br/issues/64) para explicar o que aconteceu, pois a conversa l√° foi de **alt√≠ssimo** n√≠vel. Mas em resumo, sa√≠mos da licen√ßa `MIT` para a `GPLv3`.
7. [(1:31:25)](https://youtu.be/rVsYU9HyREM?list=PLMdYygf53DP7VRIRKmkSdGuDf-6OXcj4H&t=5481) - E esse foi o momento mais massa da Live, onde a gente deleta o banco de Produ√ß√£o, cria de novo e configura as vari√°veis de ambiente. Com isso, foi poss√≠vel rodar as migrations pela primeira vez em ambiente de Produ√ß√£o e quem conseguiu fazer isso (dado que apenas **uma √∫nica pessoa** iria conseguir rodar), foi o [huogerac](https://github.com/huogerac), e ele tirou um print do retorno `201` e eu coloquei esse print logo al√≠ em baixo, inclusive logo depois a minha rea√ß√£o de nem ter conseguido listar as migrations pendentes. Vale a pena destacar tamb√©m [a issue](https://github.com/filipedeschamps/tabnews.com.br/issues/84) que mostra e resolve alguns problemas de conex√£o, e tamb√©m [a issue](https://github.com/filipedeschamps/tabnews.com.br/issues/61) que definiu a DigitalOcean como a provedora do banco e os motivos de usar Postgres sem ORM.

![image](https://user-images.githubusercontent.com/4248081/127724683-a789527c-2d33-4c0c-9167-94ab6ab647c0.png)
![image](https://user-images.githubusercontent.com/4248081/127724792-b5a379f7-af50-4160-92cc-4e6365ffc268.png)

**Pr√≥ximo cap√≠tulo:** [15/12/21 - Reorganizando tudo para conseguir voltar üëç](2021-12-15.md)
